(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-762abf67"],{"0130":function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAALAPQAAP///wAAANra2tDQ0Orq6gYGBgAAAC4uLoKCgmBgYLq6uiIiIkpKSoqKimRkZL6+viYmJgQEBE5OTubm5tjY2PT09Dg4ONzc3PLy8ra2tqCgoMrKyu7u7gAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},"062d":function(e,t,n){"use strict";var o=n("080d"),r=n.n(o);r.a},"080d":function(e,t,n){},"1aca":function(e,t,n){},"2da7":function(e,t,n){"use strict";var o=window.localStorage;function r(e){return JSON.stringify(e)}function s(e){if("string"===typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}}t["a"]={set:function(e,t){void 0!==t&&o.setItem(e,r(t))},get:function(e,t){var n=s(o.getItem(e));return void 0===n?t:n},remove:function(e){o.removeItem(e)},clear:function(){o.clear()}}},3091:function(e,t,n){},3774:function(e,t,n){var o;function r(e){var n,o=0;for(n in e)o=(o<<5)-o+e.charCodeAt(n),o|=0;return t.colors[Math.abs(o)%t.colors.length]}function s(e){function n(){if(n.enabled){var e=n,r=+new Date,s=r-(o||r);e.diff=s,e.prev=o,e.curr=r,o=r;for(var i=new Array(arguments.length),a=0;a<i.length;a++)i[a]=arguments[a];i[0]=t.coerce(i[0]),"string"!==typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(n,o){if("%%"===n)return n;c++;var r=t.formatters[o];if("function"===typeof r){var s=i[c];n=r.call(e,s),i.splice(c,1),c--}return n})),t.formatArgs.call(e,i);var u=n.log||t.log||console.log.bind(console);u.apply(e,i)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=r(e),"function"===typeof t.init&&t.init(n),n}function i(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"===typeof e?e:"").split(/[\s,]+/),o=n.length,r=0;r<o;r++)n[r]&&(e=n[r].replace(/\*/g,".*?"),"-"===e[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))}function a(){t.enable("")}function c(e){var n,o;for(n=0,o=t.skips.length;n<o;n++)if(t.skips[n].test(e))return!1;for(n=0,o=t.names.length;n<o;n++)if(t.names[n].test(e))return!0;return!1}function u(e){return e instanceof Error?e.stack||e.message:e}t=e.exports=s.debug=s["default"]=s,t.coerce=u,t.disable=a,t.enable=i,t.enabled=c,t.humanize=n("d826"),t.names=[],t.skips=[],t.formatters={}},"3ac1":function(e,t,n){"use strict";var o=n("db08"),r=n.n(o);r.a},"48ec":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return i}));n("4de4");var o=n("2da7"),r=n("bd4e"),s={methods:{$_search_selectItem:function(e){var t=o["a"].get(r["a"],[]);0!==t.length&&(t=t.filter((function(t){return t!==e}))),t.unshift(e),o["a"].set(r["a"],t),location.href="https://s.m.taobao.com/h5?event_submit_do_new_search_auction=1&_input_charset=utf-8&topSearch=1&atype=b&searchfrom=1&action=home%3Aredirect_app_action&from=1&sst=1&n=20&buying=buyitnow&q=".concat(e)}}},i={data:function(){return{imgListener:null}},mounted:function(){var e=this;this.imgListener=function(){console.log("111"),e.$refs.scroll&&e.$refs.scroll.update()},this.$bus.$on("imgLoad",this.imgListener)}}},"4de4":function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").filter,s=n("1dde"),i=n("ae40"),a=s("filter"),c=i("filter");o({target:"Array",proto:!0,forced:!a||!c},{filter:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},a15b:function(e,t,n){"use strict";var o=n("23e7"),r=n("44ad"),s=n("fc6a"),i=n("a640"),a=[].join,c=r!=Object,u=i("join",",");o({target:"Array",proto:!0,forced:c||!u},{join:function(e){return a.call(s(this),void 0===e?",":e)}})},a1a6:function(e,t,n){"use strict";var o=n("3091"),r=n.n(o);r.a},a974:function(e,t,n){"use strict";var o=n("1aca"),r=n.n(o);r.a},bd4e:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o="mall-search",r="key",s="".concat(o,"-history-keyword-").concat(r)},ce0f:function(e,t,n){(function(o){function r(){return!("undefined"===typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!==typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!==typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!==typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function s(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var o="color: "+this.color;e.splice(1,0,o,"color: inherit");var r=0,s=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(r++,"%c"===e&&(s=r))})),e.splice(s,0,o)}}function i(){return"object"===typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(n){}}function c(){var e;try{e=t.storage.debug}catch(n){}return!e&&"undefined"!==typeof o&&"env"in o&&(e=Object({NODE_ENV:"production",BASE_URL:"/"}).DEBUG),e}function u(){try{return window.localStorage}catch(e){}}t=e.exports=n("3774"),t.log=i,t.formatArgs=s,t.save=a,t.load=c,t.useColors=r,t.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:u(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(c())}).call(this,n("4362"))},d769:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"search"}},[n("div",{staticClass:"search"},[n("head-menu",{staticClass:"sort-header"},[n("i",{staticClass:"iconfont icon-back",attrs:{slot:"left"},on:{click:e.searchbackHome},slot:"left"}),n("search-box",{attrs:{slot:"center"},on:{query:e.getQuery},slot:"center"})],1),n("my-scroll",{ref:"scroll"},[n("search-history",{directives:[{name:"show",rawName:"v-show",value:!e.query,expression:"!query"}],ref:"history",on:{"remove-item":e.updateScroll,"show-confirm":e.showConfirm}}),n("search-result",{directives:[{name:"show",rawName:"v-show",value:e.query,expression:"query"}],attrs:{query:e.query}})],1)],1)])},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.historys.length?n("div",{staticClass:"history"},[n("h4",{staticClass:"history-title"},[e._v("历史搜索")]),n("transition-group",{staticClass:"g-list",attrs:{name:"list",tag:"ul"}},e._l(e.historys,(function(t){return n("li",{key:t,staticClass:"g-list-item"},[n("span",{staticClass:"g-list-text"},[e._v(e._s(t))]),n("i",{staticClass:"iconfont icon-delete",on:{click:function(n){return n.stopPropagation(),e.removeItem(t)}}})])})),0),n("a",{staticClass:"history-btn",attrs:{href:"javascript:;"},on:{click:e.showConfirm}},[n("i",{staticClass:"iconfont icon-clear"}),e._v("清空历史搜索")])],1):e._e()},i=[],a=(n("4de4"),n("4795"),n("2da7")),c=n("bd4e"),u=n("48ec"),l={name:"SearchHistory",mixin:[u["b"]],data:function(){return{historys:[]}},created:function(){this.getKeyword()},methods:{update:function(){console.log("获取"),this.getKeyword()},clear:function(){console.log("清理"),a["a"].remove(c["a"])},getKeyword:function(){this.historys=a["a"].get(c["a"],[]),console.log(this.historys,"wwww")},removeItem:function(e){var t=this;this.historys=this.historys.filter((function(t){return t!==e})),a["a"].set(c["a"],this.historys),setTimeout((function(){t.$emit("remove-item",e)}),100)},showConfirm:function(){this.$emit("show-confirm")}}},f=l,d=(n("a1a6"),n("2877")),h=Object(d["a"])(f,s,i,!1,null,"4963b866",null),A=h.exports,m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"result"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"loading-container"},[n("loading",{attrs:{text:e.logings}})],1),n("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&e.results.length,expression:"!loading && results.length"}],staticClass:"g-list"},e._l(e.results,(function(t,o){return n("li",{key:o,staticClass:"g-list-item",on:{click:function(n){return e.$_search_selectItem(t[0])}}},[n("span",{staticClass:"g-list-text"},[e._v(e._s(t[0]))])])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading&&!e.results.length,expression:"!loading && !results.length"}],staticClass:"no-result"},[e._v("搜索没有该内容")])])},g=[],p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"mine-loading",class:{"mine-loading-inline":e.inline}},["on"===e.indicator?o("span",{staticClass:"mine-loading-indicator"},[e._t("default",[o("img",{attrs:{src:n("0130"),alt:"loading"}})])],2):e._e(),e.loadingText?o("span",{staticClass:"mine-loading-text"},[e._v(e._s(e.loadingText))]):e._e()])},v=[],y=(n("c975"),{name:"Loading",props:{indicator:{type:String,default:"on",validator:function(e){return["on","off"].indexOf(e)>-1}},text:{type:String,default:"加载中..."},inline:{type:Boolean,default:!1}},data:function(){return{loadingText:this.text}},watch:{text:function(e){this.loadingText=e}},methods:{setText:function(e){this.loadingText=e}}}),w=y,C=(n("062d"),Object(d["a"])(w,p,v,!1,null,"4e3187f4",null)),b=C.exports,x=(n("d3b7"),n("a15b"),n("d81d"),n("f187")),k=n.n(x),_=function(e){var t=[];for(var n in e)t.push([n,encodeURIComponent(e[n])]);return t.map((function(e){return e.join("=")})).join("&")},q=function(e,t,n){return e+=(e.indexOf("?")<0?"?":"&")+_(t),new Promise((function(t,o){k()(e,n,(function(e,n){e?o(e):t(n)}))}))},E=n("e7e9"),I=function(e){var t="https://suggest.taobao.com/sug",n={q:e,code:"utf-8",area:"c2c",nick:"",sid:null};return q(t,n,E["a"]).then((function(e){if(console.log(e),e.result)return console.log(e),e.result;throw new Error("没有成功获取到数据！")}))["catch"]((function(e){e&&console.log(e)})).then((function(e){return new Promise((function(t){setTimeout((function(){t(e)}),1e3)}))}))},S={name:"SearchResult",mixins:[u["b"]],components:{Loading:b},data:function(){return{results:[],loading:!0,logings:"搜索中"}},props:{query:{type:String,default:""}},watch:{query:function(e){this.getResults(e)}},methods:{getResults:function(e){var t=this;e&&(this.loading=!0,I(e).then((function(e){e&&(t.results=e,t.loading=!1)})))}}},N=S,O=(n("a974"),Object(d["a"])(N,m,g,!1,null,"4f67fbaa",null)),L=O.exports,j=n("4d14"),Q=n("dd12"),B=n("23ce"),R={name:"FindPage",components:{HeadMenu:j["a"],SearchBox:Q["a"],SearchHistory:A,SearchResult:L,MyScroll:B["a"]},data:function(){return{query:""}},methods:{searchbackHome:function(){this.$router.back()},getQuery:function(e){this.query=e},updateScroll:function(){this.$refs.scroll.update()},showConfirm:function(){this.$refs.history.clear(),this.$refs.history.update()}}},$=R,J=(n("3ac1"),Object(d["a"])($,o,r,!1,null,"71235c9e",null));t["default"]=J.exports},d81d:function(e,t,n){"use strict";var o=n("23e7"),r=n("b727").map,s=n("1dde"),i=n("ae40"),a=s("map"),c=i("map");o({target:"Array",proto:!0,forced:!a||!c},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d826:function(e,t){var n=1e3,o=60*n,r=60*o,s=24*r,i=365.25*s;function a(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var a=parseFloat(t[1]),c=(t[2]||"ms").toLowerCase();switch(c){case"years":case"year":case"yrs":case"yr":case"y":return a*i;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*o;case"seconds":case"second":case"secs":case"sec":case"s":return a*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}function c(e){return e>=s?Math.round(e/s)+"d":e>=r?Math.round(e/r)+"h":e>=o?Math.round(e/o)+"m":e>=n?Math.round(e/n)+"s":e+"ms"}function u(e){return l(e,s,"day")||l(e,r,"hour")||l(e,o,"minute")||l(e,n,"second")||e+" ms"}function l(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return a(e);if("number"===n&&!1===isNaN(e))return t.long?u(e):c(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},db08:function(e,t,n){},dd12:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"search-box-wrapper"},[n("i",{staticClass:"iconfont icon-search"}),e.findtxt?n("div",{staticClass:"mine-search-box"},[e._v(e._s(e.placeholder))]):e._e(),e.findtxt?e._e():n("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],ref:"input",staticClass:"mine-search-box",attrs:{type:"text",title:"搜索",placeholder:e.placeholder},domProps:{value:e.query},on:{input:function(t){t.target.composing||(e.query=t.target.value)}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:e.query,expression:"query"}],staticClass:"iconfont icon-close",on:{click:e.reset}})])},r=[],s=n("6fbf"),i={name:"SearchBox",props:{placeholder:{type:String,default:"搜索商品/店铺/品牌"},findtxt:{type:Boolean,default:!1}},data:function(){return{query:""}},watch:{query:Object(s["a"])((function(){this.$emit("query",this.query)}),50)},methods:{focus:function(){this.$refs.input&&this.$refs.input.focus()},clear:function(){this.query=""},reset:function(){this.clear(),this.focus()}}},a=i,c=(n("de9c"),n("2877")),u=Object(c["a"])(a,o,r,!1,null,"6f5c4303",null);t["a"]=u.exports},de9c:function(e,t,n){"use strict";var o=n("fd3a"),r=n.n(o);r.a},f187:function(e,t,n){var o=n("ce0f")("jsonp");e.exports=i;var r=0;function s(){}function i(e,t,n){"function"==typeof t&&(n=t,t={}),t||(t={});var i,a,c=t.prefix||"__jp",u=t.name||c+r++,l=t.param||"callback",f=null!=t.timeout?t.timeout:6e4,d=encodeURIComponent,h=document.getElementsByTagName("script")[0]||document.head;function A(){i.parentNode&&i.parentNode.removeChild(i),window[u]=s,a&&clearTimeout(a)}function m(){window[u]&&A()}return f&&(a=setTimeout((function(){A(),n&&n(new Error("Timeout"))}),f)),window[u]=function(e){o("jsonp got",e),A(),n&&n(null,e)},e+=(~e.indexOf("?")?"&":"?")+l+"="+d(u),e=e.replace("?&","?"),o('jsonp req "%s"',e),i=document.createElement("script"),i.src=e,h.parentNode.insertBefore(i,h),m}},fd3a:function(e,t,n){}}]);
//# sourceMappingURL=chunk-762abf67.99a1151f.js.map